<!DOCTYPE HTML>
<html>
	<head>
		<title><%=title%></title>
		<link rel="stylesheet" href="/css/bootstrap.min.css">
		<link rel="stylesheet" href="/css/animate.css">
		<link rel="stylesheet" href="/css/style.css">
		<script src="/js/socket.io-1.3.5.js"></script>
		<script src="/js/jquery-1.11.2.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>
		<script src="/js/angular.min.js"></script>
		<script src="/js/lodash.min.js"></script>
		<script src="/js/howler.min.js"></script>
		<script src="/js/app.js"></script>
	</head>
	<body ng-app="entropicsFest" style="background-image: url('<%=background%>');">
		<header>
			<div class="container">
				<div class="header">
					<h1 class="text-center">
						<img src=<%=logo%> class="xc">
						<%=title%>
					</h1>
				</div>
			</div>
		</header>
		<div id="eventId" style="display: none;"><%=id%></div>
		<div class="container mainview" ng-controller="MainController">
			<div class="sort-links" style="display: none;">
				<a href ng-click="x()">x</a>
				<a href ng-click="endG()">end</a>
				<a href ng-click="start()">start</a>
				<a href ng-click="getUsers()">users</a>
			</div>
			<table class="no-selection" style="width: 100%;" ng-click="toggleDetails()">
				<tr>
					<td style="width: 80px">
						<div class="table">
							<table>
								<tr><th class="text-center">#</th></tr>
								<tr ng-repeat="n in getN()" class="item"><td class="text-center">{{n}}</td></tr>
							</table>
						</div>
					</td>
					<td>
						<div class="table">
							<table>
							    <thead>
									<tr>
										<th>Nickname</th>
										<th ng-show='end' animate-on-change="end" class="animated text-center" width="100px">Headshots</th>
										<th ng-show='end' animate-on-change="end" class="animated text-center" width="100px">Kamikaze</th>
										<th ng-show='end' animate-on-change="end" class="animated text-center" width="100px">Knives</th>
										<th ng-show='end' animate-on-change="end" class="animated text-center" width="100px">Streak</th>
										<th ng-show='end' animate-on-change="end" class="animated text-center" width="50px">Ratio</th>
										<th class="text-center" width="100px">Deaths</th>
										<th class="text-center" width="100px">Kills</th>
										<th class="text-center" width="100px">Points</th>
							        </tr>
							    </thead>
							    <tbody>
							    	<tr ng-repeat="user in users | orderBy:'-points'" class="item" jd-script>
							    		<td><img ng-src="img/uploads/{{ user.image }}" style="height: 40px; width: 40px;"> {{ user.username }}</td>
							    		<td ng-show='end' animate-on-change="end" class="animated text-center" width="100px">{{ user.data ? user.data.headshots : 0 }}</td>
							    		<td ng-show='end' animate-on-change="end" class="animated text-center" width="100px">{{ user.data ? user.data.kamikaze : 0 }}</td>
							    		<td ng-show='end' animate-on-change="end" class="animated text-center" width="100px">{{ user.data ? user.data.knives : 0 }}</td>
											<td ng-show='end' animate-on-change="end" class="animated text-center" width="100px">{{ user.data ? user.data.killstreak : 0 }}</td>
							    		<td ng-show='end' animate-on-change="end" class="animated text-center" width="50px">{{ (user.data ? user.data.kills : 0)/(user.data ? user.data.deaths : 0) | number:2 }}</td>
							    		<td class="text-center" width="100px">{{ user.data ? user.data.deaths : 0 }}</td>
							    		<td class="text-center" width="100px">{{ user.data ? user.data.kills : 0 }}</td>
							    		<td animate-on-change="user.points" class="text-center" width="100px">{{ user.data ? user.points : 0 }}</td>
							    	</tr>
							    </tbody>
							</table>
						</div>
					</td>
				</tr>
			</table>
		</div>

		<img src=<%=stripes%> class="stripes-left">
		<img src=<%=stripes%> class="stripes-right">

	</body>
</html>
